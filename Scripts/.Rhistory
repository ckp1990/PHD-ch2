### R SCRIPT â€“ PART 1 ###
### ControlScript.R ###
### Load required libraries and scripts ###
library(nimble)
library(coda)
library(spdep)
library(sf)       # Replaces maptools, rgdal
library(mcmcse)
library(matrixStats)
# setwd("/ungulate/CHT") # REMOVED: Use RStudio Project root or relative paths
project_dir <- getwd()
### Choose species to be analysed ###
### The data from 5 species; CHT-chital, SBR-sambar, GAR-gaur, PIG-wild pig, MJK-muntjac were analyzed using these scripts###
sps='SBR'
### Specify input files ###
# Assume input files are in a 'Data' directory at the project root.
dstf <- 'Data/nhb.csv'
# transect details file; see Appendix 1 for data structure #
trf <- 'Data/TRidentity.csv'
# Shape files with landscape level covariates; see Appendix 1 for data structure #
shp <- 'Data/cov1km.shp'
# transect level covariates; see Appendix 1 for data structure #
trcov <- 'Data/TRsbrcovariates1.csv'
### Specify values for estimating detection function ###
distcatsize=20; # distance category size; 15 to 20 categories are ideal#
distlimit=212; # maximum distance observed#
grszcat=5; # cluster category size; 10 to 15 categories are ideal#
grszlimit=9; # maximum cluster size observed#
### Specify sampling design ###
## Number of transects in the study design ##
uqid=83 # use the maximum number of grids intersected by any transect to arrive at this number; edit lines in the DataMatrix.R script based on sampling design details
igrid=11
# List of transects outside the study area; these are specific to the data being analyzed #
subsetlist=c(40,54,61,67,72,78)
## List of rows with wrong transect IDs ##
wrid<-c(58,59,60, 65,66,67)
## Assign correct ID to the above##
rrid=40
## Specify columns with transect number and transect level covariates; these depend on the data being analyzed ##
sb1<-c("tr.no","SBRpalplants.m2","thabitat.disturb.km")
## Specify columns with landscape level covariates; these depend on the data being analyzed ##
sb2<-c("VARSLOPE","WTRAVGDIST","ECODISTAVG","PCHSCR")
### Read all input files ###
x2=read.table(paste0(dstf),header=TRUE,sep=',') # line transect file
paste0(dstf)
getwd()
### Process data ###
source('Scripts/DataMatrix.R')
